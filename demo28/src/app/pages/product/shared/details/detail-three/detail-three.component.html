<div class="product-details product-details-centered product-details-separator">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h1 class="product-title">{{ product.productName }}</h1>

                <div class="ratings-container">
                    <div class="ratings">
                        <div class="ratings-val" [style.width]="product.avgRating * 20 + '%'"></div>
                        <span class="tooltip-text">{{ product.avgRating.toFixed(2) }}</span>
                    </div>
                    <span class="ratings-text">( {{ product.totalRating }} Reviews )</span>
                </div>

                <ng-template #elseBlock>
                    <div class="product-price" *ngIf="product.minPrice == product.maxPrice else elseBlock">
                      ${{ product.minPrice.toFixed(2) }}
                    </div>
                    <ng-template #elseBlock>
                        <div class="product-price" *ngIf="product.productVariants.length == 0 else elseBlock">
                            <span class="new-price">${{ product.minPrice.toFixed(2) }}</span>
                            <span class="old-price">${{ product.maxPrice.toFixed(2) }}</span>
                        </div>
                        <ng-template #elseBlock>
                            <div class="product-price">${{product.minPrice.toFixed(2)}}&ndash;${{product.maxPrice.toFixed(2)}}</div>
                        </ng-template>
                    </ng-template>
                </ng-template>

                <div class="product-content">
                    <p [innerHTML]="product.description"></p>
                </div>

                <div *ngIf="product.productVariants.length > 1">
                    <div class="details-filter-row details-row-size">
                        <label for="size">Size:</label>
                        <div class="select-custom">
                            <select name="size" id="size" class="form-control" [value]="selectedVariant.size"
                                (change)="selectSize($event)">
                                <option value="" [selected]="'' == selectedVariant.size">Select a size</option>
                                <option [value]="item.size" *ngFor="let item of sizeArray"
                                    [selected]="item.size == selectedVariant.size">{{ item.size }}</option>
                            </select>
                        </div>

                        <a href="javascript:;" class="size-guide mr-4"><i class="icon-th-list"></i>size guide</a>
                    </div>
                </div>

                <div class="variation-price" style="display: none;">
                    <div class="product-price">
                        ${{ selectedVariant.price ? selectedVariant.price.toFixed( 2 ) : 0 }}
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="product-details-action mb-1">
                    <div class="details-action-col">
                        <molla-quantity-input [max]="maxQuantity" [value]="qty"
                            (changeQty)="onChangeQty( $event )"
                            adClass="mr-2 mr-sm-4">
                        </molla-quantity-input>

                        <a href="javascript:;" class="btn-product btn-cart"
                            [class.btn-disabled]="!cartService.canAddToCart( product, qty ) ||
                              ( product.productVariants.length > 0 && !( selectedVariant.size != '' ) )"
                            (click)="addCart( $event )"><span>add to cart</span></a>
                    </div>

                    <div class="details-action-wrapper">
                        <a href="javascript:;" class="btn-product btn-wishlist"
                            [class.added-to-wishlist]="isInWishlist()" (click)="addToWishlist($event)">
                            <span>{{ isInWishlist() ? 'Go' : 'Add' }} to Wishlist</span>
                        </a>
                    </div>
                </div>

                <div class="product-details-footer details-footer-col">
                    <div class="product-cat">
                        <span>Catalog:</span>
                        <span>
                            <a [routerLink]="['/shop/list']" [queryParams]="{catalog: product.catalog.catalogName.toLowerCase()}">
                              {{ product.catalog.catalogName }}
                            </a>
                        </span>
                    </div>

                    <div class="social-icons social-icons-sm">
                        <span class="social-label">Share:</span>
                        <a href="javascript:;" class="social-icon" title="Facebook"><i class="icon-facebook-f"></i></a>
                        <a href="javascript:;" class="social-icon" title="Twitter"><i class="icon-twitter"></i></a>
                        <a href="javascript:;" class="social-icon" title="Instagram"><i class="icon-instagram"></i></a>
                        <a href="javascript:;" class="social-icon" title="Pinterest"><i class="icon-pinterest"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
